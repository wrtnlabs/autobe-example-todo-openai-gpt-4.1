{"files":[{"filename":"schema-01-actors.prisma","namespace":"Actors","models":[{"name":"todo_list_users","description":"Application users table. Stores core account/authentication credentials, registration data, profile fields, and business status for each user. Used to verify personal identity, manage sessions, and enforce user-specific business rules. Core relationships: owns many todos (see {@link todo_list_todos}), is target for logs. Cannot perform privileged admin actions. Users are independently managed entities representing the main service customer base.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[],"plainFields":[{"name":"email","type":"string","description":"User's unique login email address. Used for authentication and identification. Must be unique for each user and serve as primary contact for registration, password recovery, and notifications.","nullable":false},{"name":"password_hash","type":"string","description":"Bcrypt/argon2 hashed password for authentication. NEVER stores plain password. Required for user login.","nullable":false},{"name":"name","type":"string","description":"Optional user display name for UI and search. Can be empty or null if not set by user. Not enforced to be unique.","nullable":true},{"name":"avatar_uri","type":"uri","description":"Optional field for user's profile/avatar image URL. Useful for personalized interfaces. Null if user does not set.","nullable":true},{"name":"status","type":"string","description":"Current account status (e.g., active, locked, disabled). Used for lifecycle control, login restriction, or compliance. Business logic enforces legal values; implement as string here for flexibility.","nullable":false},{"name":"last_login_at","type":"datetime","description":"Timestamp of user's most recent successful login. Used for security and audit. Null if never logged in yet.","nullable":true},{"name":"created_at","type":"datetime","description":"Record creation time (UTC). Used for audit trail and time-based queries.","nullable":false},{"name":"updated_at","type":"datetime","description":"Timestamp of most recent data update to the user record.","nullable":false},{"name":"deleted_at","type":"datetime","description":"Soft-deletion timestamp. If not null, user is considered deleted (not visible in main listings, subject to compliance retention).","nullable":true}],"uniqueIndexes":[{"fieldNames":["email"],"unique":true}],"plainIndexes":[{"fieldNames":["created_at"]},{"fieldNames":["status"]}],"ginIndexes":[{"fieldName":"name"}]},{"name":"todo_list_admins","description":"Administrator accounts table. Stores admin credentials, authentication, status, profile, and privileged operational data. Used to manage and operate all aspects of the Todo List service and review or delete user todos as necessary. Requires auditability of all administrative actions. Account is distinct from regular users for business control and compliance, isolating admin roles from end-user personas.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[],"plainFields":[{"name":"email","type":"string","description":"Administrator's unique login email. For secure privileged access only. Must be unique among admin accounts.","nullable":false},{"name":"password_hash","type":"string","description":"Hash of admin's password, as in user accounts. For login authentication (bcrypt/argon2 hash).","nullable":false},{"name":"name","type":"string","description":"Administrator's display name for UI, policy, and audit references. Nullable if not set but strongly encouraged for logging.","nullable":true},{"name":"avatar_uri","type":"uri","description":"Optional admin profile/avatar image.","nullable":true},{"name":"status","type":"string","description":"Current admin account status (e.g., active, locked, disabled, suspended). Used for controlling access to admin actions; values managed by business logic.","nullable":false},{"name":"privilege_level","type":"string","description":"Business-defined privilege level (e.g., superadmin, support, auditor). Used for assigning different sets of administrative permissions within the admin domain.","nullable":false},{"name":"last_admin_action_at","type":"datetime","description":"Timestamp of the admin's most recent privileged operational action (e.g., delete user todo, set announcement). Used for audit tracking and accountability.","nullable":true},{"name":"last_login_at","type":"datetime","description":"Timestamp of the administrator's last successful login. Used for security and operational auditing.","nullable":true},{"name":"created_at","type":"datetime","description":"Admin account creation timestamp (UTC). Used for onboarding tracking and auditing.","nullable":false},{"name":"updated_at","type":"datetime","description":"Most recent update timestamp, for audit and policy enforcement.","nullable":false},{"name":"deleted_at","type":"datetime","description":"Soft-delete timestamp; if not null, admin account is technically deleted or suspended.","nullable":true}],"uniqueIndexes":[{"fieldNames":["email"],"unique":true}],"plainIndexes":[{"fieldNames":["privilege_level"]},{"fieldNames":["created_at"]},{"fieldNames":["status"]}],"ginIndexes":[{"fieldName":"name"}]}]},{"filename":"schema-02-todos.prisma","namespace":"Todos","models":[{"name":"todo_list_todos","description":"Represents individual tasks (todos) created and owned by users. Each todo can have content (with a business rule of maximum 255 characters), optional due date, and a completed status. Only the owner (or an admin) can view, edit, mark complete/incomplete, or delete each todo. This table supports per-user task management, access enforcement, and core productivity operations. Cross-references todo_list_users for ownership linkage.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"todo_list_user_id","type":"uuid","description":"Owner user's {@link todo_list_users.id}. Indicates which user this todo belongs to.","relation":{"name":"user","targetModel":"todo_list_users"},"unique":false,"nullable":false}],"plainFields":[{"name":"content","type":"string","description":"The textual content of the todo. Maximum 255 characters, trimmed of whitespace, must not be empty or only whitespace. Validated business rules (no control characters, required).","nullable":false},{"name":"due_date","type":"datetime","description":"Optional due date for the todo, null if not set. If present, must be an ISO date not before creation date.","nullable":true},{"name":"completed","type":"boolean","description":"Whether the todo has been marked as completed. Defaults to false on creation, toggled by user action.","nullable":false},{"name":"completed_at","type":"datetime","description":"Timestamp when the todo was marked as completed. Null if not completed.","nullable":true},{"name":"created_at","type":"datetime","description":"When this todo was created.","nullable":false},{"name":"updated_at","type":"datetime","description":"Timestamp of the last modification to this todo (edit, status change, etc).","nullable":false}],"uniqueIndexes":[{"fieldNames":["todo_list_user_id","content"],"unique":true}],"plainIndexes":[{"fieldNames":["todo_list_user_id","created_at"]},{"fieldNames":["todo_list_user_id","completed"]}],"ginIndexes":[{"fieldName":"content"}]},{"name":"todo_list_audit_logs","description":"Records all admin-initiated actions affecting any user's todos, such as viewing or deleting a user's todo for compliance or security purposes. Captures admin username, affected user, target todo, admin action (enum: 'view', 'delete'), rationale (optional free text), and audit timestamp. Supports privacy compliance, monitoring, and traceability in accordance with business and legal policy.","material":false,"stance":"subsidiary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"todo_list_admin_id","type":"uuid","description":"Admin's {@link todo_list_admins.id} who performed the action.","relation":{"name":"admin","targetModel":"todo_list_admins"},"unique":false,"nullable":false},{"name":"todo_list_user_id","type":"uuid","description":"Target user's {@link todo_list_users.id} whose todo was affected or accessed.","relation":{"name":"user","targetModel":"todo_list_users"},"unique":false,"nullable":false},{"name":"todo_list_todo_id","type":"uuid","description":"Target todo's {@link todo_list_todos.id} affected by the admin action.","relation":{"name":"todo","targetModel":"todo_list_todos"},"unique":false,"nullable":false}],"plainFields":[{"name":"action","type":"string","description":"Admin action type on the todo. Enum: 'view', 'delete'.","nullable":false},{"name":"rationale","type":"string","description":"Optional explanation or justification text for the admin action. Free text field; null allowed for non-sensitive actions.","nullable":true},{"name":"created_at","type":"datetime","description":"Timestamp when this audit log entry was created.","nullable":false}],"uniqueIndexes":[],"plainIndexes":[{"fieldNames":["todo_list_user_id","created_at"]},{"fieldNames":["action"]}],"ginIndexes":[]}]}]}